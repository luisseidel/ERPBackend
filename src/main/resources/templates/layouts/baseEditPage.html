<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
      xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
      layout:decorate="~{layouts/base}">
    <head>
        <title th:text="${title}">Editar</title>
    </head>
    <body>
        <div layout:fragment="content">
            <h2 th:text="${title}">Formulário</h2>

            <form th:action="@{${formAction}}" method="post" th:object="${item}">

                <!-- ID escondido (se houver) -->
                <input th:if="*{id}" th:field="*{id}" type="hidden"/>

                <!-- Aqui serão injetados os campos específicos -->
                <div th:replace="~{${editFieldFragment} :: editFields(item=${item})}"></div>

                <div>
                    <th:block th:replace="~{fragments/_saveButtonFragment :: saveButton(
                        url=${url},
                        canAdicionar=${canAdicionar},
                        canEditar=${canEditar})}"
                            >
                    </th:block>
                    <a th:href="@{__${url}__/consulta}">Cancelar</a>
                </div>
            </form>
        </div>
    </body>
</html>
